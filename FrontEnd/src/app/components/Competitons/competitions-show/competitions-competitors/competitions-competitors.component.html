<div fxLayout="row wrap">
    <!-- Card column -->
    <div fxFlex.gt-sm="100%" fxFlex="100">
        <mat-card>
            <mat-card-content>
                <mat-card-title>
                    <h1>Competitors</h1>
                    <button *ngIf="isAdmin" mat-raised-button (click)="printCompetitiors()" color="primary"><mat-icon>print</mat-icon> Print Competitors </button>
                </mat-card-title>
            </mat-card-content>
            <mat-tab-group (selectedTabChange)="setAgeGroupId($event)">
                <mat-tab *ngFor="let ageGroup of competitions?.ageGroups" label="{{ageGroup?.title}}">
                    <mat-card-content>
                        <mat-tab-group (selectedTabChange)="getCompetitors($event)">
                            <mat-tab *ngFor="let weightCategory of ageGroup.weightCategories" label="{{weightCategory.title}}">
                                <mat-card-content>
                                    <table mat-table matSort [dataSource]="dataSource" class="mat-elevation-z8">

                                        <ng-container matColumnDef="position">
                                            <th mat-header-cell *matHeaderCellDef mat-sort-header> No. </th>
                                            <td mat-cell *matCellDef="let element; let i = index">{{i+1}}</td>
                                        </ng-container>
                                        <!-- Position Column -->
                                        <ng-container matColumnDef="firstname">
                                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Firstname </th>
                                            <td mat-cell *matCellDef="let element"><a fxFlexFill [routerLink]="'/judoka/'+element.id" class="mat-row-link">{{element.firstname}}</a></td>
                                        </ng-container>

                                        <!-- Name Column -->
                                        <ng-container matColumnDef="lastname">
                                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Lastname </th>
                                            <td mat-cell *matCellDef="let element"><a fxFlexFill [routerLink]="'/judoka/'+element.id" class="mat-row-link">{{element.lastname}}</a></td>
                                        </ng-container>

                                        <!-- Symbol Column -->
                                        <ng-container matColumnDef="birthYears">
                                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Birth Years </th>
                                            <td mat-cell *matCellDef="let element"> {{element.birthYears}} </td>
                                        </ng-container>

                                        <!-- Weight Column -->
                                        <ng-container matColumnDef="gender">
                                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Gender </th>
                                            <td mat-cell *matCellDef="let element"> {{element.gender.textEN}} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="status">
                                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
                                            <td mat-cell *matCellDef="let element">
                                                <div style="color:red" *ngIf="element.weightCategories.length < 1">Not Registered </div>
                                                <div style="color:green" *ngIf="element.weightCategories.length > 0">Registered </div>
                                            </td>
                                        </ng-container>

                                        <!-- Symbol Column -->
                                        <ng-container matColumnDef="danKyu">
                                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Dan/Kyu </th>
                                            <td mat-cell *matCellDef="let element"> {{element.danKyu.text}} </td>
                                        </ng-container>

                                        <!-- Symbol Column -->
                                        <ng-container matColumnDef="organization">
                                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Organization </th>
                                            <td mat-cell *matCellDef="let element"> {{element.user.organization.shortName}} </td>
                                        </ng-container>

                                        <!-- Symbol Column -->
                                        <ng-container matColumnDef="country">
                                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Country/City </th>
                                            <td mat-cell *matCellDef="let element"> {{element.user.organization.country}}/{{element.user.organization.city}} </td>
                                        </ng-container>


                                        <tr mat-header-row *matHeaderRowDef="displayedColumnsCompetitors"></tr>
                                        <tr mat-row *matRowDef="let row; columns: displayedColumnsCompetitors;"></tr>
                                    </table>

                                    <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
                                </mat-card-content>
                            </mat-tab>
                        </mat-tab-group>
                    </mat-card-content>
                </mat-tab>
            </mat-tab-group>
        </mat-card>
    </div>